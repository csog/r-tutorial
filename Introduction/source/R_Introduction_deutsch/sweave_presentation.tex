\documentclass{beamer}\usepackage[]{graphicx}\usepackage[]{color}
%% maxwidth is the original width if it is less than linewidth
%% otherwise use linewidth (to make sure the graphics do not exceed the margin)
\makeatletter
\def\maxwidth{ %
  \ifdim\Gin@nat@width>\linewidth
    \linewidth
  \else
    \Gin@nat@width
  \fi
}
\makeatother

\definecolor{fgcolor}{rgb}{0.345, 0.345, 0.345}
\newcommand{\hlnum}[1]{\textcolor[rgb]{0.686,0.059,0.569}{#1}}%
\newcommand{\hlstr}[1]{\textcolor[rgb]{0.192,0.494,0.8}{#1}}%
\newcommand{\hlcom}[1]{\textcolor[rgb]{0.678,0.584,0.686}{\textit{#1}}}%
\newcommand{\hlopt}[1]{\textcolor[rgb]{0,0,0}{#1}}%
\newcommand{\hlstd}[1]{\textcolor[rgb]{0.345,0.345,0.345}{#1}}%
\newcommand{\hlkwa}[1]{\textcolor[rgb]{0.161,0.373,0.58}{\textbf{#1}}}%
\newcommand{\hlkwb}[1]{\textcolor[rgb]{0.69,0.353,0.396}{#1}}%
\newcommand{\hlkwc}[1]{\textcolor[rgb]{0.333,0.667,0.333}{#1}}%
\newcommand{\hlkwd}[1]{\textcolor[rgb]{0.737,0.353,0.396}{\textbf{#1}}}%
\let\hlipl\hlkwb

\usepackage{framed}
\makeatletter
\newenvironment{kframe}{%
 \def\at@end@of@kframe{}%
 \ifinner\ifhmode%
  \def\at@end@of@kframe{\end{minipage}}%
  \begin{minipage}{\columnwidth}%
 \fi\fi%
 \def\FrameCommand##1{\hskip\@totalleftmargin \hskip-\fboxsep
 \colorbox{shadecolor}{##1}\hskip-\fboxsep
     % There is no \\@totalrightmargin, so:
     \hskip-\linewidth \hskip-\@totalleftmargin \hskip\columnwidth}%
 \MakeFramed {\advance\hsize-\width
   \@totalleftmargin\z@ \linewidth\hsize
   \@setminipage}}%
 {\par\unskip\endMakeFramed%
 \at@end@of@kframe}
\makeatother

\definecolor{shadecolor}{rgb}{.97, .97, .97}
\definecolor{messagecolor}{rgb}{0, 0, 0}
\definecolor{warningcolor}{rgb}{1, 0, 1}
\definecolor{errorcolor}{rgb}{1, 0, 0}
\newenvironment{knitrout}{}{} % an empty environment to be redefined in TeX

\usepackage{alltt}

\usepackage[ngerman]{babel} % Umlaute, neue deutsche Rechtschreibung
\usepackage[latin1]{inputenc} % Kodierung festlegen 
\usepackage{amsmath,amsfonts,amssymb} % math. Symbole und Umgebungen 
\usepackage{booktabs}
\usetheme{PaloAlto}
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\begin{document}
%\SweaveOpts{concordance=TRUE}


\title{Einführung in R}
\author{S. Trahasch, S. Niro} 
\maketitle

\begin{frame}[fragile]
\frametitle{Ziele}
\begin{itemize}
\item Grundlegende Konzepte kennen
\item Wichtige Datenstrukturen und Befehle verwenden können
\item Einfache Datenvisualisierungen erstellen können
\item Packages installieren und verwenden können
\end{itemize}
\end{frame}

\tableofcontents

\section{Einordnung}
\begin{frame}
\frametitle{Einordnung (kdnuggets.com Umfrage 2015-2017)}
\begin{center}
\includegraphics[scale=.35]{new_DM_polls/top-analytics-data-science-machine-learning-software-2015-2017.jpg}
\end{center}
\end{frame}

\begin{frame}
\frametitle{Einordnung (kdnuggets.com Umfrage 2015-2017)}
\begin{center}
\includegraphics[scale=.5]{new_DM_polls/changes.png}
\end{center}
\end{frame}

\begin{frame}
\frametitle{Einordnung}

\begin{center}
\begin{figure}
\includegraphics[scale=0.45]{new_DM_polls/rise_of_r_usage_rexeranalytics_2015.png}
\caption{Rexer Analytics Data Miner Survey 2015}
\end{figure}
\end{center}
\end{frame}

\begin{frame}
\frametitle{Einordnung}
\begin{figure}
\includegraphics[scale=0.4]{new_DM_polls/primary_tool_rexeranalytics_2015.png}
\caption{Rexer Analytics Data Miner Survey 2015}
\end{figure}
\end{frame}

\section{R}

\subsection{S, S-Plus, R}

\begin{frame}
\frametitle{Geschichtliches: S, S-Plus, R}
\begin{itemize} 
\item Becker, R. A. und Chambers, J. M. veröffentlichten 1984 Sprache \textbf{S} für
\textbf{Datenanalyse (Statistik)} und \textbf{Grafik}
\item \textbf{S-PLUS} ist eine kommerzielle Implementation von S
\item \textbf{R} ist eine Open Source Implementation (GNU GPL) von S,  1992 von \textbf{R}oss Ihaka und \textbf{R}obert Gentleman entwickelt
\end{itemize}
\end{frame}

\subsection{Vorteile von R}

\begin{frame}
\frametitle{Vorteile von R}
\begin{itemize}
\item Domänenspezifische Sprache für Datenanalyse und Visualisierung
\item Open Source, keine Lizenzgebühren (GNU GPL)
\item Große aktive Community
\item Crossplattform: Windows, Linux, Solaris, usw.
\item Sehr viele ($> 5500$) R-Pakete. Neue statistische Methoden werden oft als (kostenlose) R-Pakete angeboten
\item Schneller als S-Plus
\item Programmierschnittstellen zu R für viele Sprachen verfügbar (Java, Python, ... )
\item Integration von R durch andere Datenanalysesoftware (Rapidminer, SAP HANA, SPSS, SAS, ... )
\end{itemize}
\end{frame}

\begin{frame}
\frametitle{Grafiken mit R - Beispiele (Entwicklung der R-Packages)}
\begin{figure}
\centering
\includegraphics[scale=0.4]{new_DM_polls/rpackages_over_time.png}
\end{figure}
\end{frame}

\begin{frame}
\frametitle{Grafiken mit R - Beispiele (R-User Herkunft)}
\includegraphics[scale=0.4]{pics/Jhemsley_WikiTalkPage.jpg}
\end{frame}

\begin{frame}
\frametitle{Grafiken mit R - Beispiele}
\includegraphics[scale=0.18]{pics/r_activity.png}
\end{frame}

\begin{frame}[fragile]
\frametitle{Grafiken mit R - Beispiele}
\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}

{\centering \includegraphics[width=\maxwidth]{figure/beamer-foo-1} 

}



\end{knitrout}
\end{frame}

\begin{frame}[fragile]
\frametitle{Grafiken mit R - Beispiele}
\includegraphics[scale=0.4]{pics/mst.png}
\end{frame}



\begin{frame}[fragile]
\frametitle{Grafiken mit R - Beispiele}
\includegraphics[scale=0.38]{pics/16a010534b1db25970b015435c323fc970c-800wi}

Weitere: 
http://www.sr.bham.ac.uk/~ajrs/R/r-gallery.html
http://addictedtor.free.fr/graphiques/
\end{frame}

\begin{frame}[fragile]
\frametitle{Grafiken (Dilbert)}
\includegraphics[scale=0.6]{funny/I2X7z.png}
\end{frame}

\subsection{Nachteile von R}

\begin{frame}[fragile]
\frametitle{Nachteile von R}
\begin{itemize}
\item Keine vollwertige grafische Benutzeroberfläche
\item Lernkurve etwas flacher als bei anderer SW
\item Qualität der Packete hängt von der Anzahl der Benutzer ab
\item Fehlermeldungen nicht immer hilfreich
\end{itemize}
\end{frame}

\section{Rechnen mit R}

\begin{frame}[fragile]
\frametitle{R als Taschenrechner}
\begin{columns}[T]
    \begin{column}{.55\linewidth}
\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlnum{3.5} \hlopt{+} \hlnum{1.5}
\end{alltt}
\begin{verbatim}
[1] 5
\end{verbatim}
\end{kframe}
\end{knitrout}
\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlstd{x} \hlkwb{<-} \hlnum{6} \hlopt{*} \hlstd{(}\hlnum{1}\hlopt{/}\hlnum{3}\hlstd{)}  \hlcom{# Zuweisung}
                    \hlcom{# (empfohlen)}
\hlstd{x}
\end{alltt}
\begin{verbatim}
[1] 2
\end{verbatim}
\end{kframe}
\end{knitrout}

\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlstd{x} \hlkwb{=} \hlnum{2}\hlopt{^}\hlnum{2}       \hlcom{# Zuweisung}
\hlkwd{print}\hlstd{(x)}
\end{alltt}
\begin{verbatim}
[1] 4
\end{verbatim}
\end{kframe}
\end{knitrout}
    \end{column}
    \begin{column}{.45\linewidth}
     \begin{table}[cc]
     \centering
     \begin{tabular}{|c|c|} \hline
     \textbf{Operator} &  \\ \hline
      $+$ & Addition \\
      $-$ & Subtraktion \\
      $*$ & Multiplikation \\
      $/$ & Division \\
      \textasciicircum & Potenz \\ 
      $\%\%$ & Modulo (Rest) \\ \hline
     \end{tabular}
    \end{table} 
    Weitere math. Funktionen:
    
    sin(x), sqrt(x), exp(x), ...
    
    \end{column}
  \end{columns}

\end{frame}

\section{Vektoren}

\begin{frame}[fragile]
\frametitle{Vektoren}
Geordnete Menge von Elementen gleichen Typs
\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlstd{a} \hlkwb{<-} \hlkwd{c}\hlstd{(}\hlnum{4}\hlstd{,} \hlnum{5}\hlstd{,} \hlnum{6}\hlstd{)} \hlcom{# combine}

\hlstd{a}
\end{alltt}
\begin{verbatim}
[1] 4 5 6
\end{verbatim}
\end{kframe}
\end{knitrout}
\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlkwd{length}\hlstd{(a)} \hlcom{# Länge von a}
\end{alltt}
\begin{verbatim}
[1] 3
\end{verbatim}
\end{kframe}
\end{knitrout}

\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlstd{a[}\hlnum{2}\hlstd{]}       \hlcom{# zweites Element in a}
\end{alltt}
\begin{verbatim}
[1] 5
\end{verbatim}
\end{kframe}
\end{knitrout}

\end{frame}

 \begin{frame}[fragile]
\frametitle{Vektoren: Arithmetik}
\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlstd{a} \hlkwb{<-} \hlkwd{seq}\hlstd{(}\hlkwc{from} \hlstd{=} \hlnum{1}\hlstd{,} \hlkwc{to} \hlstd{=} \hlnum{3}\hlstd{,} \hlkwc{by} \hlstd{=} \hlnum{1}\hlstd{)} \hlcom{# entspricht c(1,2,3)}
\hlstd{b} \hlkwb{<-} \hlnum{9}\hlopt{:}\hlnum{7} \hlcom{# entspricht c(9, 8, 7)}
\hlstd{a}
\end{alltt}
\begin{verbatim}
[1] 1 2 3
\end{verbatim}
\begin{alltt}
\hlstd{b}
\end{alltt}
\begin{verbatim}
[1] 9 8 7
\end{verbatim}
\end{kframe}
\end{knitrout}
\begin{columns}[T]
  \begin{column}{.5\linewidth}
  händisch
\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
  \hlstd{c} \hlkwb{<-} \hlkwd{c}\hlstd{(}\hlnum{0}\hlstd{,}\hlnum{0}\hlstd{,}\hlnum{0}\hlstd{)}
  \hlkwa{for}\hlstd{(i} \hlkwa{in} \hlnum{1}\hlopt{:}\hlkwd{length}\hlstd{(a))}
  \hlstd{\{}
\hlstd{c[i]} \hlkwb{<-} \hlstd{a[i]} \hlopt{+} \hlstd{b[i]}
  \hlstd{\}}
  \hlstd{c}
\end{alltt}
\begin{verbatim}
[1] 10 10 10
\end{verbatim}
\end{kframe}
\end{knitrout}
 \end{column}
 \begin{column}{.5\linewidth}
 Vektorisiert (empfohlen)
\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlstd{c} \hlkwb{<-} \hlstd{a} \hlopt{+} \hlstd{b}
\hlstd{c}
\end{alltt}
\begin{verbatim}
[1] 10 10 10
\end{verbatim}
\end{kframe}
\end{knitrout}
 \end{column}


\end{columns}

\end{frame}

\def\spvec#1{\left(\vcenter{\halign{\hfil$##$\hfil\cr \spvecA#1;;}}\right)}
\def\spvecA#1;{\if;#1;\else #1\cr \expandafter \spvecA \fi}


\begin{frame}[fragile]
\frametitle{Vektoren: Recycling}
\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlstd{a} \hlkwb{<-} \hlnum{1}\hlopt{:}\hlnum{6}
\hlstd{a}
\end{alltt}
\begin{verbatim}
[1] 1 2 3 4 5 6
\end{verbatim}
\begin{alltt}
\hlstd{a} \hlopt{+} \hlkwd{c}\hlstd{(}\hlnum{1}\hlstd{,}\hlnum{2}\hlstd{)} \hlcom{# ???}
\end{alltt}
\begin{verbatim}
[1] 2 4 4 6 6 8
\end{verbatim}
\end{kframe}
\end{knitrout}

$\spvec{1;2;3;4;5;6} + \spvec{1;2} \longrightarrow^{recycling} \spvec{1;2;3;4;5;6} + \spvec{1;2;\color{red} 1;\color{red}2;\color{red}1;\color{red}2} = \spvec{2;4;4;6;6;8}$
\end{frame}


\begin{frame}[fragile]
\frametitle{Vektoren und Funktionen}
\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlstd{a} \hlkwb{<-} \hlnum{1}\hlopt{:}\hlnum{4}
\end{alltt}
\end{kframe}
\end{knitrout}
Funktionen, die auf Skalare angewandt werden, werden auf jedes Element des Vektors angewandt
\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlkwd{sqrt}\hlstd{(a)} \hlcom{# Wurzel}
\end{alltt}
\begin{verbatim}
[1] 1.000000 1.414214 1.732051 2.000000
\end{verbatim}
\end{kframe}
\end{knitrout}

\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlkwd{max}\hlstd{(a}\hlopt{^}\hlnum{2}\hlstd{)} \hlcom{# größtes element}
\end{alltt}
\begin{verbatim}
[1] 16
\end{verbatim}
\end{kframe}
\end{knitrout}

\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlkwd{sum}\hlstd{(a}\hlopt{^}\hlnum{2}\hlstd{)} \hlcom{# summe aller elemente}
\end{alltt}
\begin{verbatim}
[1] 30
\end{verbatim}
\end{kframe}
\end{knitrout}

\end{frame}

\begin{frame}
\frametitle{R-Studio}
\includegraphics[scale=0.4]{pics/RStudio.png}
\end{frame}

\begin{frame}[fragile]
\frametitle{Übung I}
\begin{itemize}
\item Erstellen Sie einen Vektor $x$ von Ganzzahlen im Intervall $[-10;10]$
\item Wieviele Elemente sind in $x$ (length)?
\item Welche Werte haben das 10.te und das 22.te Element?
\item Berechnen Sie $y(x) = -x^2 + 20$
\item Was ist der kleinste/größte Funktionswert von $y(x)$ (min/max)?
\item Plotten Sie die Funktion mit plot(x, y)
\item Fügen Sie dem Funktionsaufruf das Argument  \begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlstd{type} \hlkwb{=} \hlstr{"l"}
\end{alltt}
\end{kframe}
\end{knitrout} hinzu. Wie verändert sich der Plot für 
\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlstd{type} \hlkwb{=} \hlstr{"b"}
\end{alltt}
\end{kframe}
\end{knitrout}
\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlstd{type} \hlkwb{=} \hlstr{"p"}
\end{alltt}
\end{kframe}
\end{knitrout}
\item Optional: Berechnen Sie $\bar{y} = \frac{1}{N} * \sum_{i=1}^{N}(y_i)$
\end{itemize}
\end{frame}

\section{Übung I}

\begin{frame}[fragile]
\frametitle{Übung I}
\begin{columns}
  \begin{column}{0.45 \linewidth}
\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlstd{x} \hlkwb{<-} \hlopt{-}\hlnum{10}\hlopt{:}\hlnum{10}
\hlkwd{length}\hlstd{(x)}
\end{alltt}
\begin{verbatim}
[1] 21
\end{verbatim}
\begin{alltt}
\hlstd{x[}\hlnum{10}\hlstd{]}
\end{alltt}
\begin{verbatim}
[1] -1
\end{verbatim}
\begin{alltt}
\hlstd{y} \hlkwb{<-} \hlopt{-}\hlstd{x}\hlopt{^}\hlnum{2} \hlopt{+} \hlnum{20}
\hlkwd{min}\hlstd{(y)}
\end{alltt}
\begin{verbatim}
[1] -80
\end{verbatim}
\begin{alltt}
\hlkwd{max}\hlstd{(y)}
\end{alltt}
\begin{verbatim}
[1] 20
\end{verbatim}
\end{kframe}
\end{knitrout}
  \end{column}
   \begin{column}{0.45 \linewidth}
\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlkwd{plot}\hlstd{(x,y)}
\hlnum{1}\hlopt{/}\hlkwd{length}\hlstd{(y)} \hlopt{*} \hlkwd{sum}\hlstd{(y)}
\hlkwd{mean}\hlstd{(y)}
\end{alltt}
\begin{verbatim}
[1] -16.66667
[1] -16.66667
\end{verbatim}
\end{kframe}

{\centering \includegraphics[width=\maxwidth]{figure/beamer-vec-uebrechts-1} 

}



\end{knitrout}
 \end{column}
 \end{columns}
\end{frame}

\section{Übung II}

\begin{frame}[fragile]
\frametitle{Übung II}
\begin{itemize}
\item Erstellen Sie mit \textbf{rnorm} $n = 100$ normalverteilte Zufallswerte mit Mittelwert $10$ und Standardabweichung $1$ (Hilfe über \textbf{?rnorm} oder help(rnorm))
\item Überprüfen Sie den Mittelwert (\textbf{mean}) und die Standardabweichung (\textbf{sd})
\item Erstellen Sie einen Boxplot (\textbf{boxplot}) und ein Histogram (\textbf{hist})
\item Wiederholen Sie das Ganze mit $n=10000$. Was fällt Ihnen auf? 
\item Optional: Verwenden Sie gleichverteilte Zufallswerte (\textbf{runif})
\end{itemize}
\end{frame}

\begin{frame}[fragile]
\frametitle{Übung II (Lösung)}
\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlstd{x} \hlkwb{<-} \hlkwd{rnorm}\hlstd{(}\hlnum{100}\hlstd{,} \hlkwc{mean}\hlstd{=}\hlnum{10}\hlstd{,} \hlkwc{sd}\hlstd{=}\hlnum{1}\hlstd{)}
\hlkwd{mean}\hlstd{(x);} \hlkwd{sd}\hlstd{(x)}
\hlkwd{par}\hlstd{(}\hlkwc{las} \hlstd{=}\hlnum{1}\hlstd{,} \hlkwc{mar}\hlstd{=}\hlkwd{c}\hlstd{(}\hlnum{4}\hlstd{,}\hlnum{4}\hlstd{,}\hlnum{1}\hlstd{,}\hlnum{.1}\hlstd{))}
\hlkwd{boxplot}\hlstd{(x);} \hlkwd{hist}\hlstd{(x,} \hlkwc{col}\hlstd{=}\hlstr{"blue"}\hlstd{)}
\end{alltt}
\begin{verbatim}
[1] 10.19487
[1] 1.051083
\end{verbatim}
\end{kframe}

{\centering \includegraphics[width=.45\linewidth]{figure/beamer-random-first-1} 
\includegraphics[width=.45\linewidth]{figure/beamer-random-first-2} 

}



\end{knitrout}
\end{frame}

\begin{frame}[fragile]
\frametitle{Übung II (Lösung)}
\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlstd{x} \hlkwb{<-} \hlkwd{rnorm}\hlstd{(}\hlnum{10000}\hlstd{,} \hlkwc{mean}\hlstd{=}\hlnum{10}\hlstd{,} \hlkwc{sd}\hlstd{=}\hlnum{1}\hlstd{)}
\hlkwd{mean}\hlstd{(x);} \hlkwd{sd}\hlstd{(x)}
\hlkwd{par}\hlstd{(}\hlkwc{las} \hlstd{=}\hlnum{1}\hlstd{,} \hlkwc{mar}\hlstd{=}\hlkwd{c}\hlstd{(}\hlnum{4}\hlstd{,}\hlnum{4}\hlstd{,}\hlnum{1}\hlstd{,}\hlnum{.1}\hlstd{))}
\hlkwd{boxplot}\hlstd{(x);} \hlkwd{hist}\hlstd{(x,} \hlkwc{col}\hlstd{=}\hlstr{"blue"}\hlstd{)}
\end{alltt}
\begin{verbatim}
[1] 10.02118
[1] 1.008185
\end{verbatim}
\end{kframe}

{\centering \includegraphics[width=.45\linewidth]{figure/beamer-random-second-1} 
\includegraphics[width=.45\linewidth]{figure/beamer-random-second-2} 

}



\end{knitrout}
\end{frame}

\begin{frame}
\frametitle{}
\includegraphics[scale=0.4]{funny/boyfriend.png}
\end{frame}

\begin{frame}[fragile]
\frametitle{Weitere Typen (\textit{mode})}
Logical (Boolscher Wert)
\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlstd{verheiratet} \hlkwb{<-} \hlkwd{c}\hlstd{(}\hlnum{TRUE}\hlstd{,} \hlnum{FALSE}\hlstd{, T, F, T)}
\hlkwd{print}\hlstd{(verheiratet)}
\end{alltt}
\begin{verbatim}
[1]  TRUE FALSE  TRUE FALSE  TRUE
\end{verbatim}
\end{kframe}
\end{knitrout}

Character (Zeichenkette)
\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlstd{name} \hlkwb{<-} \hlkwd{c}\hlstd{(}\hlstr{"Max"}\hlstd{,} \hlstr{"Fritz"}\hlstd{)}
\hlkwd{print}\hlstd{(name)}
\end{alltt}
\begin{verbatim}
[1] "Max"   "Fritz"
\end{verbatim}
\end{kframe}
\end{knitrout}

Factor (Nominalwert):
\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlstd{geschlecht} \hlkwb{<-} \hlkwd{factor}\hlstd{(}\hlkwd{c}\hlstd{(}\hlstr{"m"}\hlstd{,}\hlstr{"m"}\hlstd{,}\hlstr{"w"}\hlstd{,}\hlstr{"m"}\hlstd{,}\hlstr{"w"}\hlstd{,}\hlstr{"w"}\hlstd{))}
\hlkwd{print}\hlstd{(geschlecht)}
\end{alltt}
\begin{verbatim}
[1] m m w m w w
Levels: m w
\end{verbatim}
\end{kframe}
\end{knitrout}
\end{frame}

\begin{frame}[fragile]
\frametitle{Logische und relationale Operatoren}

\begin{columns}[T]
\begin{column}{0.45 \linewidth}

\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlnum{10} \hlopt{==} \hlstd{(}\hlnum{2} \hlopt{+} \hlnum{8}\hlstd{)}
\end{alltt}
\begin{verbatim}
[1] TRUE
\end{verbatim}
\begin{alltt}
\hlstd{(}\hlnum{10} \hlopt{%%} \hlnum{3} \hlopt{!=} \hlnum{0}\hlstd{)} \hlopt{&&} \hlstd{(}\hlnum{4} \hlopt{<} \hlnum{5}\hlstd{)}
\end{alltt}
\begin{verbatim}
[1] TRUE
\end{verbatim}
\begin{alltt}
\hlopt{!}\hlnum{FALSE}
\end{alltt}
\begin{verbatim}
[1] TRUE
\end{verbatim}
\end{kframe}
\end{knitrout}
\end{column}

\begin{column}{0.45 \linewidth}
\begin{table}[htbp]
  \centering
    \begin{tabular}{rrr}
    \toprule
    \textbf{Operator} & \textbf{Bedeutung} \\
    \midrule  
    == & Gleichheit   \\
    !=  & Ungleichheit \\
    $>$ & größer \\
    $<=$ & kleiner gleich \\
    \midrule
    Logisch: & \\
    ! & NOT \\
    \&\& &  UND  \\
    $||$ & ODER \\

    \bottomrule
    \end{tabular}
\end{table}%
\end{column}
\end{columns}
\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlkwd{c}\hlstd{(}\hlnum{5}\hlstd{,}\hlnum{8}\hlstd{,}\hlnum{10}\hlstd{)} \hlopt{>} \hlnum{5}
\end{alltt}
\begin{verbatim}
[1] FALSE  TRUE  TRUE
\end{verbatim}
\end{kframe}
\end{knitrout}
\end{frame}

\begin{frame}[fragile]
\frametitle{Bedingte Ausführung}
\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlkwa{if}\hlstd{(}\hlnum{2}\hlopt{+}\hlnum{2}\hlopt{==}\hlnum{5}\hlstd{)}
\hlstd{\{}
  \hlkwd{print}\hlstd{(}\hlstr{"gleich"}\hlstd{)}
\hlstd{\}}\hlkwa{else}
\hlstd{\{}
  \hlkwd{print}\hlstd{(}\hlstr{"ungleich"}\hlstd{)}
\hlstd{\}}
\end{alltt}
\begin{verbatim}
[1] "ungleich"
\end{verbatim}
\end{kframe}
\end{knitrout}

kurz:
\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlkwd{ifelse}\hlstd{(}\hlnum{2}\hlopt{+}\hlnum{2}\hlopt{==}\hlnum{5}\hlstd{,} \hlstr{"gleich"}\hlstd{,} \hlstr{"ungleich"}\hlstd{)}
\end{alltt}
\begin{verbatim}
[1] "ungleich"
\end{verbatim}
\begin{alltt}
\hlkwd{ifelse}\hlstd{(}\hlnum{1}\hlopt{:}\hlnum{10}\hlopt{==}\hlnum{5}\hlstd{,} \hlstr{"gleich"}\hlstd{,} \hlstr{"ungleich"}\hlstd{)} \hlcom{# vektorisiert}
\end{alltt}
\begin{verbatim}
 [1] "ungleich" "ungleich" "ungleich" "ungleich" "gleich"  
 [6] "ungleich" "ungleich" "ungleich" "ungleich" "ungleich"
\end{verbatim}
\end{kframe}
\end{knitrout}
\end{frame}

\begin{frame}[fragile]
\frametitle{Bedingte Auswahl}
\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlstd{a} \hlkwb{<-} \hlkwd{c}\hlstd{(}\hlnum{2}\hlstd{,}\hlnum{4}\hlstd{,}\hlnum{6}\hlstd{,}\hlnum{8}\hlstd{,}\hlnum{10}\hlstd{)}
\end{alltt}
\end{kframe}
\end{knitrout}
\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlstd{a[}\hlnum{1}\hlopt{:}\hlnum{3}\hlstd{]}  \hlcom{# indexbasierte Auwahl}
\end{alltt}
\begin{verbatim}
[1] 2 4 6
\end{verbatim}
\end{kframe}
\end{knitrout}
\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlstd{a[}\hlkwd{c}\hlstd{(T,T,T,F,F)]} \hlcom{# bedingte Auswahl}
\end{alltt}
\begin{verbatim}
[1] 2 4 6
\end{verbatim}
\end{kframe}
\end{knitrout}
\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlstd{a[a} \hlopt{<} \hlnum{7}\hlstd{]} \hlcom{# bedingte Auswahl}
\end{alltt}
\begin{verbatim}
[1] 2 4 6
\end{verbatim}
\end{kframe}
\end{knitrout}
\end{frame}

% DATA FRAMES
\section{Data Frame}

\begin{frame}[fragile]
\frametitle{Data Frame}
\begin{itemize}
\item Liste aus Vektoren gleicher Länge (=Spalten), die Namen haben
\item Wichtigste Datenstruktur
\item Beispiel
% Table generated by Excel2LaTeX from sheet 'teilnehmer'
\begin{table}[htbp]
  \centering
    \begin{tabular}{rrr}
    \toprule
    \textbf{Name} & \textbf{Gruppe} & \textbf{Schuhgröße} \\
    \midrule
    Dennis & APC   & 42 \\
    Ralf  & SIB   & 43 \\
    Stefan & IS    & 42 \\
    Susanne & APC   & 39 \\
    Swen  & SIB   & 42 \\
    Werner & SIB   & 43 \\
    \bottomrule
    \end{tabular}
    \caption{Teilnehmerliste als CSV-Datei}
\end{table}%
\item Zwei Indices: df[ \color{blue}  Zeile(n) \color{black}, \color{red} Spalte(n) \color{black}] 
\end{itemize}
\end{frame}

\begin{frame}[fragile]
\frametitle{Data Frame}
\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlstd{df} \hlkwb{<-} \hlkwd{read.csv}\hlstd{(}\hlstr{"teilnehmer.csv"}\hlstd{,} \hlkwc{sep}\hlstd{=}\hlstr{";"}\hlstd{)}
\hlstd{df}
\end{alltt}
\begin{verbatim}
     Name Gruppe Schuhgröße
1  Dennis    APC         42
2    Ralf    SIB         43
3  Stefan     IS         42
4 Susanne    APC         39
5    Swen    SIB         42
6  Werner    SIB         43
\end{verbatim}
\begin{alltt}
\hlkwd{names}\hlstd{(df)}  \hlcom{# Spaltennamen}
\end{alltt}
\begin{verbatim}
[1] "Name"       "Gruppe"     "Schuhgröße"
\end{verbatim}
\begin{alltt}
\hlkwd{dim}\hlstd{(df)}        \hlcom{# dimensionen (zeilen, spalten)}
\end{alltt}
\begin{verbatim}
[1] 6 3
\end{verbatim}
\end{kframe}
\end{knitrout}
\end{frame}

\begin{frame}[fragile]
\frametitle{Data Frame: Zugriff auf Inhalte}
\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlstd{df[}\hlnum{1}\hlstd{, ]} \hlcom{# erste Zeile, alle Spalten}
\end{alltt}
\begin{verbatim}
    Name Gruppe Schuhgröße
1 Dennis    APC         42
\end{verbatim}
\end{kframe}
\end{knitrout}
\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlstd{df[}\hlnum{1}\hlstd{,}\hlnum{3}\hlstd{]} \hlcom{# erste Zeile, dritte Spalte}
\end{alltt}
\begin{verbatim}
[1] 42
\end{verbatim}
\end{kframe}
\end{knitrout}
\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlstd{df[,}\hlnum{2}\hlstd{]} \hlcom{# alle Zeilen, zweite Spalte}
\end{alltt}
\begin{verbatim}
[1] APC SIB IS  APC SIB SIB
Levels: APC IS SIB
\end{verbatim}
\end{kframe}
\end{knitrout}
\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlstd{df[,}\hlstr{"Schuhgröße"}\hlstd{]} \hlcom{# Spalte nach Name}
\end{alltt}
\begin{verbatim}
[1] 42 43 42 39 42 43
\end{verbatim}
\begin{alltt}
\hlstd{df}\hlopt{$}\hlstd{Schuhgröße} \hlcom{# II}
\end{alltt}
\begin{verbatim}
[1] 42 43 42 39 42 43
\end{verbatim}
\end{kframe}
\end{knitrout}

\end{frame}

\begin{frame}[fragile]
\frametitle{Data Frame: Zugriff auf Inhalte II}
\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlstd{df}\hlopt{$}\hlstd{Name} \hlcom{# Spalte nach Name II}
\end{alltt}
\begin{verbatim}
[1] Dennis  Ralf    Stefan  Susanne Swen    Werner 
Levels: Dennis Ralf Stefan Susanne Swen Werner
\end{verbatim}
\begin{alltt}
\hlstd{df[df}\hlopt{$}\hlstd{Schuhgröße} \hlopt{<} \hlnum{41}\hlstd{,]}
\end{alltt}
\begin{verbatim}
     Name Gruppe Schuhgröße
4 Susanne    APC         39
\end{verbatim}
\begin{alltt}
\hlstd{df[df}\hlopt{$}\hlstd{Gruppe} \hlopt{==} \hlstr{"APC"}\hlstd{,} \hlstr{"Name"}\hlstd{]}
\end{alltt}
\begin{verbatim}
[1] Dennis  Susanne
Levels: Dennis Ralf Stefan Susanne Swen Werner
\end{verbatim}
\end{kframe}
\end{knitrout}
\end{frame}

\begin{frame}[fragile]
\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlkwd{str}\hlstd{(df)}
\end{alltt}
\begin{verbatim}
'data.frame':	6 obs. of  3 variables:
 $ Name      : Factor w/ 6 levels "Dennis","Ralf",..: 1 2 3 4 5 6
 $ Gruppe    : Factor w/ 3 levels "APC","IS","SIB": 1 3 2 1 3 3
 $ Schuhgröße: int  42 43 42 39 42 43
\end{verbatim}
\end{kframe}
\end{knitrout}
\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlkwd{summary}\hlstd{(df)}
\end{alltt}
\begin{verbatim}
      Name   Gruppe    Schuhgröße   
 Dennis :1   APC:2   Min.   :39.00  
 Ralf   :1   IS :1   1st Qu.:42.00  
 Stefan :1   SIB:3   Median :42.00  
 Susanne:1           Mean   :41.83  
 Swen   :1           3rd Qu.:42.75  
 Werner :1           Max.   :43.00  
\end{verbatim}
\end{kframe}
\end{knitrout}
\end{frame}

% Übung 3
\section{Übung III (Teil1)}

\begin{frame}[fragile]
\begin{itemize}
\frametitle{Übung III (Teil1): Packages und Data Frames}
\item Installieren Sie die beiden packages \textbf{rpart} und \textbf{rpart.plot}
(Hinweis: \textit{Tools/Install Packages ...} in RStudio oder via Console mit \textit{install.packages("PACKAGE\_NAME")})
\item Laden Sie die beiden Packages mit \textit{library(PACKAGE\_NAME)}
\item Laden Sie das Beispieldatenset \textbf{ptitanic} mit $data(ptitanic)$
\item Untersuchen Sie das Data frame \textbf{ptitanic} mit den Funktionen \textbf{summary} und   \textbf{str}
\item Erstellen Sie einen Scatterplot mit \textbf{plot} (Einfärben der Datenpunkte mit dem Parameter 
\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlstd{col} \hlkwb{=} \hlkwd{ifelse}\hlstd{(ptitanic}\hlopt{$}\hlstd{survived}\hlopt{==}\hlstr{" survived"}\hlstd{,} \hlstr{"green"}\hlstd{,} \hlstr{"red"}\hlstd{)}
\end{alltt}
\end{kframe}
\end{knitrout}
\end{itemize}
\end{frame}

\begin{frame}[fragile]
\frametitle{Übung III (Teil1 Lösung)}
\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlkwd{library}\hlstd{(rpart);}\hlkwd{library}\hlstd{(rpart.plot);}\hlkwd{data}\hlstd{(ptitanic);} \hlkwd{options}\hlstd{(}\hlkwc{width}\hlstd{=}\hlnum{60}\hlstd{)}
\hlkwd{str}\hlstd{(ptitanic)}
\end{alltt}
\begin{verbatim}
'data.frame':	1309 obs. of  6 variables:
 $ pclass  : Factor w/ 3 levels "1st","2nd","3rd": 1 1 1 1 1 1 1 1 1 1 ...
 $ survived: Factor w/ 2 levels "died","survived": 2 2 1 1 1 2 2 1 2 1 ...
 $ sex     : Factor w/ 2 levels "female","male": 1 2 1 2 1 2 1 2 1 2 ...
 $ age     :Class 'labelled'  atomic [1:1309] 29 0.917 2 30 25 ...
  .. ..- attr(*, "units")= chr "Year"
  .. ..- attr(*, "label")= chr "Age"
 $ sibsp   :Class 'labelled'  atomic [1:1309] 0 1 1 1 1 0 1 0 2 0 ...
  .. ..- attr(*, "label")= chr "Number of Siblings/Spouses Aboard"
 $ parch   :Class 'labelled'  atomic [1:1309] 0 2 2 2 2 0 0 0 0 0 ...
  .. ..- attr(*, "label")= chr "Number of Parents/Children Aboard"
\end{verbatim}
\end{kframe}
\end{knitrout}
\end{frame}

\begin{frame}[fragile]
\frametitle{Übung III ((Teil1 Lösung))}
\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlkwd{summary}\hlstd{(ptitanic)}
\end{alltt}
\begin{verbatim}
 pclass        survived       sex           age         
 1st:323   died    :809   female:466   Min.   : 0.1667  
 2nd:277   survived:500   male  :843   1st Qu.:21.0000  
 3rd:709                               Median :28.0000  
                                       Mean   :29.8811  
                                       3rd Qu.:39.0000  
                                       Max.   :80.0000  
                                       NA's   :263      
     sibsp            parch      
 Min.   :0.0000   Min.   :0.000  
 1st Qu.:0.0000   1st Qu.:0.000  
 Median :0.0000   Median :0.000  
 Mean   :0.4989   Mean   :0.385  
 3rd Qu.:1.0000   3rd Qu.:0.000  
 Max.   :8.0000   Max.   :9.000  
                                 
\end{verbatim}
\end{kframe}
\end{knitrout}
\end{frame}

\begin{frame}[fragile]
\frametitle{Übung III (Teil1 Lösung)}
\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlkwd{plot}\hlstd{(ptitanic,} \hlkwc{col} \hlstd{=} \hlkwd{ifelse}\hlstd{(ptitanic}\hlopt{$}\hlstd{survived} \hlopt{==} \hlstr{"survived"}\hlstd{,}
    \hlstr{"green"}\hlstd{,} \hlstr{"red"}\hlstd{))}
\end{alltt}
\end{kframe}

{\centering \includegraphics[width=\maxwidth,height=0.5\linewidth]{figure/beamer-titanic-third} 

}



\end{knitrout}
\begin{minipage}[t]{0.48\linewidth}
\end{minipage}%
\end{frame}

\section{Einschub}

\begin{frame}
\frametitle{Einschub: Data-Mining I}
\begin{itemize}
\item Ziel: Unbekannte Zusammenhänge mithilfe von Algorithmen in den Daten finden
\item Hier: Herausfinden was maßgeblich dafür war, ob ein Passagier die Katastrophe überlebt hat.

\begin{table}[htbp]
  \centering
    \begin{tabular}{rrr|r}
    \toprule
    \textbf{$x_1$} &  ... & \textbf{$x_i$} & $y$ \\
    \midrule
    1&..&1& survived\\
    1&..&1& died\\
    2&..&1& survived\\
    \midrule
    1&..&1& ?\\
    1&..&1& ?\\
    2&..&5& ?\\    
    \bottomrule
    \end{tabular}
    \caption{Daten liegen in Tabelleform vor}
\end{table}%

\end{itemize}
\end{frame}


\begin{frame}
\frametitle{Einschub: Data-Mining II}
\begin{itemize}
\item Wir haben einen Data Frame
\item Wir müssen dem Algorithmus (Funktion) zeigen was unabhängige Variablen $x$ sind und was die abhängige Variable $y$ ist
\item Zwei Möglichkeiten:
\begin{itemize}
\item Aufteilung des Data Frames in $x$ und $y$
\item Verwendung von R-Formeln und Übergabe des Datenframes:

Formel (Prinzip): 

$y$ $\sim$ $x_1$ + ... + $x_i$

$y$ und $x$ sind die Namen der Spalten im data frame
\end{itemize}
\end{itemize}
\end{frame}

\section{Übung III (Teil2)}


\begin{frame}[fragile]
\frametitle{Übung III (Teil2): Machine Learning from Disaster}
\begin{itemize}
\item Wir wollen rausfinden was maßgeblich dafür ist, ob ein Passagier überlebt hat oder gestorben ist
\item Dazu erstellen Sie mit \textit{rpart} einen Entscheidungsbaum. Wir betrachten nur die drei Attribute \textit{sex}, \textit{age}, und \textit{pclass}:

\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlstd{rtree} \hlkwb{<-} \hlkwd{rpart}\hlstd{(survived} \hlopt{~} \hlstd{sex} \hlopt{+} \hlstd{age} \hlopt{+} \hlstd{pclass}
               \hlcom{# entspricht  y ~ x1 + .. + x2               }
               \hlstd{,} \hlkwc{data} \hlstd{= ptitanic)} \hlcom{# data frame}
\end{alltt}
\end{kframe}
\end{knitrout}
\item Zeichnen Sie den Entscheidungsbaum mit \textbf{prp}
\item Hätten Sie überlebt?
\end{itemize}
\end{frame}

\begin{frame}[fragile]
\frametitle{Übung III (Teil2): Machine Learning from Disaster (Lösung)}
\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlstd{rtree} \hlkwb{<-} \hlkwd{rpart}\hlstd{(survived} \hlopt{~} \hlstd{sex} \hlopt{+} \hlstd{age} \hlopt{+} \hlstd{pclass}
               \hlstd{,}\hlkwc{data} \hlstd{= ptitanic)}
\hlkwd{prp}\hlstd{(rtree)}
\end{alltt}
\end{kframe}

{\centering \includegraphics[width=\linewidth]{figure/beamer-titanic-fourth-1} 

}



\end{knitrout}

\end{frame}

\begin{frame}
\frametitle{Ende}
\includegraphics[scale=0.7]{funny/correlation.png}
\end{frame}

\end{document}
